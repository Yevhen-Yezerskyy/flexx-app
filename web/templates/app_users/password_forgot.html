{% extends "flexx/base.html" %}
<!-- FILE: web/templates/app_users/password_forgot.html
     PURPOSE: Отдельный success-state без инпута: сообщение по центру и кнопка возврата к логину. -->
{% block content %}

<div class="flex flex-col items-center flex-1">
  <div class="text-2xl mb-10 mt-10">Passwort vergessen</div>

  {% if sent %}
    <div class="w-[520px] flex flex-col items-center">
      <div class="text-center">
        Wenn die E-Mail<br>
        <span class="font-semibold text-[var(--accent)]">{{ sent_email }}</span><br>
        existiert, wurde ein Link gesendet.
      </div>
      <a href="/"
         class="mt-10 w-48 rounded-md bg-gray-100 text-[var(--text)] py-3 hover:bg-gray-200 transition font-semibold text-center flex items-center justify-center">
        Zum Login
      </a>
    </div>
  {% else %}
    <form method="post" class="w-[520px] flex flex-col gap-4">
      {% csrf_token %}

      <div class="flex flex-col gap-1">
        <input
          name="email"
          type="email"
          placeholder="E-Mail"
          value="{{ form.email.value|default:'' }}"
          class="border border-[var(--text)] rounded-md px-4 py-2 focus:outline-none"
        >
        {% if form.email.errors %}<div class="text-sm text-red-600">{{ form.email.errors|join:", " }}</div>{% endif %}
      </div>

      <button
        type="submit"
        class="mt-2 rounded-md bg-[var(--accent)] text-white py-2 hover:brightness-110 transition"
      >
        Link senden
      </button>
    </form>
  {% endif %}
</div>

{% endblock %}
