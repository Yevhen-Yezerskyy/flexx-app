{% extends "flexx/base.html" %}
<!-- FILE: web/templates/app_users/password_forgot.html  (обновлено — 2026-02-13)
     PURPOSE: После отправки: показываем сообщение, email readonly, кнопку "Link senden" скрываем. -->
{% block content %}

<div class="flex flex-col items-center flex-1">
  <div class="text-2xl mb-10 mt-10">Passwort vergessen</div>

  <form method="post" class="w-[520px] flex flex-col gap-4">
    {% csrf_token %}

    {% if msg %}
      <div class="text-sm text-green-700">{{ msg }}</div>
    {% endif %}

    <div class="flex flex-col gap-1">
      <label class="text-sm">E-Mail:</label>
      <input
        name="email"
        type="email"
        value="{{ form.email.value|default:'' }}"
        class="border border-[var(--text)] rounded-md px-4 py-2 focus:outline-none"
        {% if sent %}readonly{% endif %}
      >
      {% if form.email.errors %}<div class="text-sm text-red-600">{{ form.email.errors|join:", " }}</div>{% endif %}
    </div>

    {% if not sent %}
      <button
        type="submit"
        class="mt-2 rounded-md bg-[var(--accent)] text-white py-2 hover:brightness-110 transition"
      >
        Link senden
      </button>
    {% endif %}

    <a href="/" class="text-center mt-6 underline hover:text-[var(--accent)] transition">Zurück zum Login</a>
  </form>
</div>

{% endblock %}
